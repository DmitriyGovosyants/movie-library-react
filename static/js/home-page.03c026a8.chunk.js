"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[223],{7965:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var r=a(2982),s=a(5861),n=a(885),u=a(7757),c=a.n(u),l=a(2791),o=a(3243),i=function(){window.scrollTo({top:0,behavior:"instant"})},v=a(1238),p=a(4305),f=a(6414),h=a(3524),k=a(184),d=function(){var e=(0,f.a)().userLanguage,t=(0,l.useState)(h.kq.TREND),a=(0,n.Z)(t,2),u=a[0],d=a[1],g=(0,l.useState)(null),x=(0,n.Z)(g,2),S=x[0],Z=x[1],w=(0,l.useState)(""),m=(0,n.Z)(w,2),b=m[0],_=m[1],j=(0,l.useState)([]),C=(0,n.Z)(j,2),E=C[0],R=C[1],q=(0,l.useState)(1),T=(0,n.Z)(q,2),N=T[0],P=T[1],A=(0,l.useState)(0),D=(0,n.Z)(A,2),H=D[0],W=D[1],y=(0,l.useState)(!1),G=(0,n.Z)(y,2),I=G[0],$=G[1],B=(0,l.useState)(null),F=(0,n.Z)(B,2),L=F[0],O=F[1],z=function(e){var t=(0,l.useRef)();return(0,l.useEffect)((function(){t.current=e}),[e]),t.current}(b);console.log(u,S,b);var J=(0,l.useCallback)((0,s.Z)(c().mark((function t(){var a,s,n,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return $(!0),i(),t.prev=2,t.next=5,(0,o.Wu)(N,e.value);case 5:a=t.sent,s=a.data,n=s.results,u=s.total_pages,W(u),R((0,r.Z)(n)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),O(t.t0.message);case 16:return t.prev=16,$(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])}))),[N,e.value]),K=(0,l.useCallback)((0,s.Z)(c().mark((function t(){var a,s,n,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return $(!0),i(),t.prev=2,t.next=5,(0,o.cH)(N,e.value);case 5:a=t.sent,s=a.data,n=s.results,u=s.total_pages,W(u),R((0,r.Z)(n)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),O(t.t0.message);case 16:return t.prev=16,$(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])}))),[N,e.value]),M=(0,l.useCallback)((0,s.Z)(c().mark((function t(){var a,s,n,l,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return $(!0),i(),u===h.kq.TREND&&(a="popularity.desc"),u===h.kq.RATING&&(a="vote_average.desc"),t.prev=4,t.next=7,(0,o.CO)(N,e.value,S.value,a);case 7:s=t.sent,n=s.data,l=n.results,v=n.total_pages,W(v),R((0,r.Z)(l)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),O(t.t0.message);case 18:return t.prev=18,$(!1),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[4,15,18,21]])}))),[null===S||void 0===S?void 0:S.value,N,u,null===e||void 0===e?void 0:e.value]);return(0,l.useEffect)((function(){u!==h.kq.TREND||S?u!==h.kq.RATING||S?u!==h.kq.SEARCH&&S&&M():K():J()}),[S,M,J,K,u]),(0,l.useEffect)((function(){if(u===h.kq.SEARCH){if(b!==z)return R([]),P(1),void Z(null);var t=function(){var t=(0,s.Z)(c().mark((function t(){var a,s,n,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return $(!0),i(),t.prev=2,t.next=5,(0,o.Pv)(N,b,e.value);case 5:a=t.sent,s=a.data,n=s.results,u=s.total_pages,W(u),R((0,r.Z)(n)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),O(t.t0.message);case 16:return t.prev=16,$(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})));return function(){return t.apply(this,arguments)}}();t()}}),[N,b,z,e.value,u,S]),(0,k.jsx)(p.$0,{children:(0,k.jsxs)(p.W2,{children:[(0,k.jsx)(v.Sx,{sortStatus:u,setSortStatus:d,filterStatus:S,setFilterStatus:Z,search:b,setSearch:_,setPage:P,page:N,totalPage:H}),L&&(0,k.jsx)(v.Bc,{children:L}),I&&(0,k.jsx)(v.$j,{}),0!==E.length&&(0,k.jsx)(v.eW,{movies:E}),E.length>0&&(0,k.jsx)(v.tl,{setPage:P,page:N,totalPage:H})]})})}}}]);
//# sourceMappingURL=home-page.03c026a8.chunk.js.map