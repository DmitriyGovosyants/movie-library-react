"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[913],{9839:function(e,t,n){n.r(t),n.d(t,{Library:function(){return h}});var r=n(5861),a=n(2982),u=n(885),s=n(7757),o=n.n(s),i=n(2791),c=n(3504),l=n(9085),v=n(3331),f=n(8904),d=n(2395),p=n(3524),S=n(184),h=function(){var e=(0,f.a)().user,t=(0,c.lr)(),n=(0,u.Z)(t,2)[1],s=(0,i.useState)([]),h=(0,u.Z)(s,2),Z=h[0],k=h[1],m=(0,i.useState)([]),w=(0,u.Z)(m,2),_=w[0],b=w[1],x=(0,i.useState)(p.G.QUEUE),g=(0,u.Z)(x,2),A=g[0],C=g[1],E=(0,i.useState)(p.n.LATEST),j=(0,u.Z)(E,2),T=j[0],y=j[1],G=(0,i.useState)(""),L=(0,u.Z)(G,2),R=L[0],D=L[1],M=(0,i.useState)(!1),O=(0,u.Z)(M,2),U=O[0],V=O[1],W=(0,i.useCallback)((function(e){return T===p.n.LATEST?(0,a.Z)(e).sort((function(e,t){return t["".concat(A,"DateAdded")]-e["".concat(A,"DateAdded")]})):T===p.n.RATING?(0,a.Z)(e).sort((function(e,t){return t.vote_average-e.vote_average})):T===p.n.YEAR?(0,a.Z)(e).sort((function(e,t){return t.release_date.localeCompare(e.release_date)})):void 0}),[T,A]),Y=(0,i.useCallback)((function(e){return null!==R&&void 0!==R&&R.value?null!==R&&void 0!==R&&R.value?e.filter((function(e){return e.genres.includes(R.value)})):void 0:e}),[null===R||void 0===R?void 0:R.value]);(0,i.useEffect)((function(){var t=function(){var t=(0,r.Z)(o().mark((function t(){var r,a,u,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return V(!1),n({view:A}),t.prev=2,t.next=5,(0,d.gp)(e);case 5:r=t.sent,a=Object.values(r.val()).filter((function(e){return!0===e[A]})),F(a),u=W(a),s=Y(u),k(s),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),l.Am.info("You have no movies in ".concat(A)),k([]);case 17:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(){return t.apply(this,arguments)}}();t()}),[Y,R,U,n,W,e,A]);var F=function(e){var t=e.flatMap((function(e){return e.genres.split(", ")})).filter((function(e,t,n){return n.indexOf(e)===t})).sort((function(e,t){return e.localeCompare(t)}));b(t)};return(0,S.jsx)(v.$0,{children:(0,S.jsxs)(v.W2,{children:[(0,S.jsx)(v._V,{sortStatus:T,setSortStatus:y,filterStatus:R,setFilterStatus:D,viewStatus:A,setViewStatus:C,allGenres:_,libraryMovies:Z}),0!==(null===Z||void 0===Z?void 0:Z.length)&&(0,S.jsx)(v.eW,{movies:Z,setRefreshPage:V})]})})};t.default=h}}]);
//# sourceMappingURL=library-page.c7ced764.chunk.js.map