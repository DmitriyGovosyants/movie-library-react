"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[223],{7965:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var a=r(2982),n=r(5861),s=r(885),u=r(7757),c=r.n(u),l=r(2791),o=r(3243),i=function(){window.scrollTo({top:0,behavior:"instant"})},v=r(2874),p=r(4305),f=r(6414),k=r(3524),h=r(9085),x=r(184),d=function(){var e=(0,l.useState)(k.kq.TREND),t=(0,s.Z)(e,2),r=t[0],u=t[1],d=(0,l.useState)(null),g=(0,s.Z)(d,2),m=g[0],w=g[1],S=(0,l.useState)(""),Z=(0,s.Z)(S,2),b=Z[0],C=Z[1],_=(0,l.useState)([]),A=(0,s.Z)(_,2),R=A[0],j=A[1],q=(0,l.useState)(1),E=(0,s.Z)(q,2),T=E[0],N=E[1],P=(0,l.useState)(0),D=(0,s.Z)(P,2),H=D[0],W=D[1],y=(0,l.useState)(!1),G=(0,s.Z)(y,2),I=G[0],$=G[1],F=function(e){var t=(0,l.useRef)();return(0,l.useEffect)((function(){t.current=e}),[e]),t.current}(b),L=(0,f.a)().userLanguage;console.log(r,m,b);var O=(0,l.useCallback)((0,n.Z)(c().mark((function e(){var t,r,n,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),i(),e.prev=2,e.next=5,(0,o.Wu)(T,L.value);case 5:t=e.sent,r=t.data,n=r.results,s=r.total_pages,W(s),j((0,a.Z)(n)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),h.Am.error(e.t0.message);case 16:return e.prev=16,$(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])}))),[T,L.value]),z=(0,l.useCallback)((0,n.Z)(c().mark((function e(){var t,r,n,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),i(),e.prev=2,e.next=5,(0,o.cH)(T,L.value);case 5:t=e.sent,r=t.data,n=r.results,s=r.total_pages,W(s),j((0,a.Z)(n)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),h.Am.error(e.t0.message);case 16:return e.prev=16,$(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])}))),[T,L.value]),B=(0,l.useCallback)((0,n.Z)(c().mark((function e(){var t,n,s,u,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),i(),r===k.kq.TREND&&(t="popularity.desc"),r===k.kq.RATING&&(t="vote_average.desc"),e.prev=4,e.next=7,(0,o.CO)(T,L.value,m.value,t);case 7:n=e.sent,s=n.data,u=s.results,l=s.total_pages,W(l),j((0,a.Z)(u)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),h.Am.error(e.t0.message);case 18:return e.prev=18,$(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[4,15,18,21]])}))),[null===m||void 0===m?void 0:m.value,T,r,null===L||void 0===L?void 0:L.value]),J=(0,l.useCallback)((0,n.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b===F){e.next=5;break}return j([]),N(1),w(null),e.abrupt("return");case 5:t=function(){var e=(0,n.Z)(c().mark((function e(){var t,r,n,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),i(),e.prev=2,e.next=5,(0,o.Pv)(T,b,L.value);case 5:t=e.sent,r=t.data,n=r.results,s=r.total_pages,W(s),j((0,a.Z)(n)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),h.Am.error(e.t0.message);case 16:return e.prev=16,$(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),t();case 7:case"end":return e.stop()}}),e)}))),[T,F,b,L.value]);return(0,l.useEffect)((function(){r!==k.kq.TREND||m?r!==k.kq.RATING||m?r!==k.kq.SEARCH&&m?B():r!==k.kq.SEARCH||J():z():O()}),[m,B,J,O,z,r]),(0,x.jsx)(p.$0,{children:(0,x.jsxs)(p.W2,{children:[(0,x.jsx)(v.Sx,{sortStatus:r,setSortStatus:u,filterStatus:m,setFilterStatus:w,search:b,setSearch:C,setPage:N,page:T,totalPage:H}),I&&(0,x.jsx)(v.$j,{}),0!==R.length&&(0,x.jsx)(v.eW,{movies:R}),R.length>0&&(0,x.jsx)(v.tl,{setPage:N,page:T,totalPage:H})]})})}}}]);
//# sourceMappingURL=home-page.7695d2cd.chunk.js.map