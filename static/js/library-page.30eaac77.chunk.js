"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[913],{9839:function(e,n,t){t.r(n),t.d(n,{Library:function(){return x}});var r=t(5861),a=t(2982),u=t(885),o=t(7757),c=t.n(o),i=t(2791),l=t(3504),s=t(9085),f=t(2930),v=t(7132),d=t(2395),h=t(3524),p=t(184),x=function(){var e=(0,v.a)().user,n=(0,l.lr)(),t=(0,u.Z)(n,2),o=t[0],x=t[1],g=(0,i.useState)([]),A=(0,u.Z)(g,2),E=A[0],j=A[1],k=(0,i.useState)([]),m=(0,u.Z)(k,2),T=m[0],C=m[1],S=(0,i.useState)(h.G.QUEUE),Z=(0,u.Z)(S,2),b=Z[0],R=Z[1],w=(0,i.useState)(h.n.LATEST),y=(0,u.Z)(w,2),G=y[0],L=y[1],_=(0,i.useState)(""),N=(0,u.Z)(_,2),Y=N[0],I=N[1],O=(0,i.useState)(!1),U=(0,u.Z)(O,2),W=U[0],B=U[1],D=(0,i.useCallback)((function(e){return G===h.n.LATEST?(0,a.Z)(e).sort((function(e,n){return n["".concat(b,"DateAdded")]-e["".concat(b,"DateAdded")]})):G===h.n.RATING?(0,a.Z)(e).sort((function(e,n){return n.vote_average-e.vote_average})):G===h.n.YEAR?(0,a.Z)(e).sort((function(e,n){return n.release_date.localeCompare(e.release_date)})):void 0}),[G,b]),Q=(0,i.useCallback)((function(e){return Y?Y?e.filter((function(e){return e.genres.includes(Y)})):void 0:e}),[Y]);(0,i.useEffect)((function(){var n=function(){var n=(0,r.Z)(c().mark((function n(){var t,r,a,u;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return B(!1),x({view:b}),n.prev=2,n.next=5,(0,d.gp)(e);case 5:t=n.sent,r=Object.values(t.val()).filter((function(e){return!0===e[b]})),z(r),a=D(r),u=Q(a),j(u),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(2),s.Am.info("You have no movies in ".concat(b)),j([]);case 17:case"end":return n.stop()}}),n,null,[[2,13]])})));return function(){return n.apply(this,arguments)}}();n()}),[Q,Y,W,x,D,e,b]);var z=function(e){var n=e.flatMap((function(e){return e.genres.split(", ")})).filter((function(e,n,t){return t.indexOf(e)===n})).sort((function(e,n){return e.localeCompare(n)}));C(n)};return(0,p.jsx)(f.$0,{children:(0,p.jsxs)(f.W2,{children:[(0,p.jsxs)("label",{children:["LATEST",(0,p.jsx)("input",{type:"radio",checked:G===h.n.LATEST,name:"sortBy",value:h.n.LATEST,onChange:function(e){return L(e.target.value)}})]}),(0,p.jsxs)("label",{children:["RATING",(0,p.jsx)("input",{type:"radio",checked:G===h.n.RATING,name:"sortBy",value:h.n.RATING,onChange:function(e){return L(e.target.value)}})]}),(0,p.jsxs)("label",{children:["YEAR",(0,p.jsx)("input",{type:"radio",checked:G===h.n.YEAR,name:"sortBy",value:h.n.YEAR,onChange:function(e){return L(e.target.value)}})]}),(0,p.jsxs)("select",{name:"genres",value:Y,onChange:function(e){return I(e.target.value)},children:[(0,p.jsx)("option",{value:"",children:"CHOOSE GENRE"}),T.map((function(e){return(0,p.jsx)("option",{value:e,children:e},e)})),(0,p.jsx)("option",{value:"",children:" - ALL - "})]}),(0,p.jsx)(f.zx,{onClick:function(){return R(h.G.QUEUE)},children:"Queue"}),(0,p.jsx)(f.zx,{onClick:function(){return R(h.G.WATCHED)},children:"Watched"}),o.get("view"),null===E||void 0===E?void 0:E.length,0!==(null===E||void 0===E?void 0:E.length)&&(0,p.jsx)(f.eW,{movies:E,setRefreshPage:B})]})})};n.default=x}}]);
//# sourceMappingURL=library-page.30eaac77.chunk.js.map